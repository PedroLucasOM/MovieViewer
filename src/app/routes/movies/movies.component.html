<p-toast [style]="{marginTop: '80px'}"></p-toast>
<p-dialog [(visible)]="flagView" header="{{movie.title}} ({{movie.release_date | date: 'yyyy'}})" [modal]="true"
  [responsive]="true" [style]="{minWidth: '18rem', width: '60rem'}" [minY]="70" [baseZIndex]="10000">
  <div style="width: 18rem; float: left;" *ngIf="movie.poster_path !== null">
    <img src="https://image.tmdb.org/t/p/w500{{movie.poster_path}}" class="card-img-top" alt="Capa do filme">
  </div>
  <div style="width: 36rem; height: 28.5rem; float: right;">
    <p-fieldset legend="Descrição">
      <p-scrollPanel [style]="{width: '100%', height: '13rem'}" styleClass="custom">
        <div class="text" style="padding:1em;line-height:1.5;text-align: justify;">
          {{movie.overview}}
        </div>
      </p-scrollPanel>
    </p-fieldset>
    <div class="ui-g">
      <div class="ui-g-4">
        <p-fieldset legend="Alcance" [style]="{height: '9rem'}">
          <h5 class="first text-title center">{{movie.popularity}}</h5>
        </p-fieldset>
      </div>
      <div class="ui-g-4">
        <p-fieldset legend="Votos" [style]="{height: '9rem'}">
          <h5 class="first text-title center">{{movie.vote_count}}</h5>
        </p-fieldset>
      </div>
      <div class="ui-g-4">
        <p-fieldset legend="Nota" [style]="{height: '9rem'}">
          <div class="center nota">
            <label class="text-title">{{movie.vote_average}}</label>
            <p-rating [ngModel]="movie.vote_average/2" readonly="true" stars="5" [cancel]="false"></p-rating>
          </div>
        </p-fieldset>
      </div>
    </div>
  </div>
</p-dialog>
<div class="content">
  <div *ngIf="flagCarregando === false && flagSearchMovies === true">
    <div class="ui-g ui-fluid">
      <div *ngFor="let movie of movies">
        <div class="ui-g-4" *ngIf="movie.poster_path !== null">
          <div class="card" style="width: 18rem;" drag-scroll-item data-toggle="modal"
            (click)="onFindMovieByID(movie.id)">
            <img src="https://image.tmdb.org/t/p/w500{{movie.poster_path}}" class="card-img-top" alt="Capa do filme">
            <div class="card-footer">
              <h5 class="card-title text" style="text-align: center; font-weight: bold;">{{movie.title}}</h5>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="flagSearchMovies === false && flagCarregando === false">
    <div class="ui-g ui-fluid">
      <div class="ui-g-12">
        <div class="spinner">
          <div class="alert alert-light text" role="alert">
            Nenhum filme encontrado com este título!
          </div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="flagCarregando === true">
    <div class="ui-g ui-fluid">
      <div class="ui-g-12">
        <div class="spinner">
          <p-progressSpinner [style]="{width: '100px', height: '100px'}" strokeWidth="8" fill="#EEEEEE"
            animationDuration=".5s">
          </p-progressSpinner>
        </div>
      </div>
    </div>
  </div>
</div>
